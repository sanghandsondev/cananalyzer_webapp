<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Feedback - CAN Analyzer</title>
    <link rel="icon" href="/assets/favicons/favicon.png" type="image/png" />
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/auth.css" />
    <link rel="stylesheet" href="/css/feedback.css" />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
      referrerpolicy="no-referrer"
    />
    <style>
      /* Simple header layout: brand left, auth right */
      .site-header__container {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
    </style>
  </head>
  <body>
    <!-- Header with auth -->
    <header class="site-header" role="banner">
      <div class="site-header__container">
        <a class="brand" href="/" aria-label="CAN Analyzer home">
          <span class="brand__mark" aria-hidden="true">
            <img class="brand__logo" src="/assets/brand/logo-gear.png" alt="" />
          </span>
          <span class="brand__text">CAN Analyzer</span>
        </a>

        <!-- Right side - Auth section -->
        <div class="site-header__auth" id="authSection" style="visibility: hidden;"></div>
      </div>
    </header>

    <main class="page">
      <div class="page__container">
        <section class="feedback-section">
          <div class="feedback-header">
            <h1 class="feedback-title">Feedback</h1>
            <p class="feedback-subtitle">Share your thoughts, suggestions, or feedback about our products and services.</p>
          </div>

          <!-- Comment Input -->
          <div class="comment-input-section">
            <div class="comment-input-wrapper">
              <div class="comment-avatar comment-avatar--input" id="commentInputAvatar">
                <i class="fa-solid fa-user"></i>
              </div>
              <textarea 
                id="commentInput" 
                class="comment-textarea" 
                placeholder="Write your feedback here..."
                rows="3"
                maxlength="500"
              ></textarea>
            </div>
            <div class="comment-input-actions">
              <span class="char-counter" id="charCounter">0/500</span>
              <button type="button" class="btn btn--primary" id="submitCommentBtn" disabled>
                <i class="fa-solid fa-paper-plane"></i>
                Submit Feedback
              </button>
            </div>
          </div>

          <!-- Comments List -->
          <div class="comments-section">
            <h2 class="comments-title">
              <i class="fa-solid fa-comments"></i>
              Recent Feedback
              <span class="comments-count" id="commentsCount">(0)</span>
            </h2>
            
            <div class="comments-list" id="commentsList">
              <!-- Comments will be loaded here -->
              <div class="comments-loading" id="commentsLoading">
                <i class="fa-solid fa-spinner fa-spin"></i>
                Loading comments...
              </div>
              <div class="comments-empty" id="commentsEmpty" style="display: none;">
                <i class="fa-solid fa-comment-slash"></i>
                <p>No feedback yet. Be the first to share your thoughts!</p>
              </div>
            </div>

            <!-- See More -->
            <div class="comments-load-more" id="loadMoreSection" style="display: none;">
              <span class="see-more-link" id="loadMoreBtn">See More</span>
            </div>
          </div>
        </section>
      </div>
    </main>

    <footer class="site-footer">
      <div class="site-footer__container">
        <p class="site-footer__text">Â© 2026 CAN Analyzer, Inc.</p>
      </div>
    </footer>

    <script src="/js/auth.js"></script>
    <script src="/js/feedback.js"></script>
  </body>
</html>
